{"version":3,"sources":["view_components/CenteredContainer/styles.module.css","routes/HomeRoute/styles.module.css","store/BaseStore.js","store/PlayerStore.js","use_cases/addPlayer.js","view_components/CenteredContainer/index.js","entities/Game.js","store/GameStore.js","use_cases/getGame.js","routes/JoinRoute.js","use_cases/getPlayer.js","store/AnswerStore.js","utils/popKey.js","store/QuestionStore.js","use_cases/addAnswer.js","routes/PlayerRoute.js","use_cases/findGamesByShortCode.js","routes/HomeRoute/index.js","use_cases/getLobbyPlayers.js","routes/LobbyRoute.js","store/UserStore.js","use_cases/signupUser.js","use_cases/loginUser.js","routes/LoginRoute.js","use_cases/getCurrentUser.js","use_cases/getCurrentUserGames.js","routes/MyGamesRoute.js","use_cases/createGame.js","routes/CreateGameRoute.js","use_cases/startNextQuestion.js","utils/calculateTimeLeft.js","routes/PendingQuestionRoute.js","use_cases/getQuestion.js","use_cases/calculateQuestionResults.js","use_cases/countTotalQuestions.js","routes/QuestionResultsRoute.js","use_cases/calculateFinalResults.js","routes/FinalResultsRoute.js","use_cases/showCurrentQuestion.js","view_components/Question.js","routes/CurrentQuestionRoute.js","routes/HostRoute.js","use_cases/getQuestions.js","use_cases/saveQuestion.js","view_components/EditableQuestion.js","routes/GameDetailsRoute.js","routes/FindGameRoute.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","firebase","require","FIREBASE_CONFIG","JSON","parse","process","BaseStore","props","apps","length","initializeApp","this","firestore","auth","PlayerStore","playerId","scopes","collection","doc","gameId","get","then","_convertDocToPlayer","attributes","chain","add","playerRef","onChange","limit","undefined","onSnapshot","playersSnapshot","players","forEach","playerDoc","push","snapshot","docs","map","p","_convertDocToQuestion","Object","assign","id","data","addPlayer","create","CenteredContainer","Container","className","styles","centered","style","maxWidth","height","verticalCentered","children","Game","GameStore","state","STATE_DRAFT","ref","_convertDocToGame","_getGameDoc","gameDoc","where","ownerId","shortCode","a","currentQuestion","currentQuestionId","update","game","path","getGame","JoinForm","playerName","setPlayerName","joinGame","Form","onSubmit","e","preventDefault","FormGroup","Label","Input","value","target","Button","color","type","JoinRoute","useParams","useState","setPlayerId","setGame","useEffect","name","to","getPlayer","AnswerStore","_popAttr","questionId","player","join","question","answerRef","_convertDocToAnswer","answerDoc","obj","attr","val","popKey","key","QuestionStore","addAttrs","questionDoc","attributesCopy","qnRef","qnDoc","from","orderBy","q","addAttributes","addAnswer","questionStore","isCorrect","correctAnswer","choice","console","log","AnswerGrid","recordAnswer","Row","ans","Col","sm","md","onClick","PlayerRoute","currentGame","setCurrentGame","answer","setAnswer","errorMessage","setErrorMessage","handleGameChange","catch","setTimeout","Alert","findGamesByShortCode","list","String","STATE_WAITING_FOR_PLAYERS","HomeRoute","games","setGames","setShortCode","ListGroup","ListGroupItem","tag","action","hero_heading","for","disabled","getLobbyPlayers","playerStore","gameStore","PlayerList","LobbyRoute","setPlayers","joinUrl","window","location","origin","href","rel","UserStore","email","password","createUserWithEmailAndPassword","userCredentials","firebaseUser","user","_convertUser","error","errorCode","code","message","alert","signInWithEmailAndPassword","handleChange","onAuthStateChanged","uid","displayName","signupUser","loginUser","login","handleSubmit","event","authFn","successCallback","SignupForm","onUserChange","setEmail","setPassword","f","LoginForm","LoginRoute","isExistingUser","setIsExistingUser","setUser","toggleForm","getCurrentUser","userStore","Promise","resolve","onCurrentUserChange","getCurrentUserGames","MyGamesRoute","redirectUrl","setRedirectUrl","createGame","Math","floor","random","CreateGameRoute","gameName","setGameName","gameAttributes","onCreate","startNextQuestion","nextOrder","order","questionArray","tickTimer","endDate","intervalCallback","endedCallback","timeLeft","date","difference","Date","now","calculateTimeLeft","startTimer","seconds","PendingQuestionRoute","parentUrl","setTimeLeft","nextQuestion","setNextQuestion","ceil","getQuestion","calculateQuestionResults","answerStore","answers","results","concat","countTotalQuestions","questions","isCorrectChoice","ResultBoard","result","text","entries","Card","inverse","CardBody","CardTitle","CardText","QuestionResultsRoute","setResult","setQuestion","totalQuestionCount","setTotalQuestionCount","calculateFinalResults","filter","reduce","acc","curr","sortScores","b","score1","score2","Leaderboard","scores","sort","slice","index","Badge","FinalResultsRoute","setResults","showCurrentQuestion","Question","ShowResultsBtn","isVisible","linkTo","CurrentQuestionRoute","HostRoute","useRouteMatch","url","base","getQuestions","saveQuestion","EditableQuestion","draftQuestion","setDraftQuestion","componentState","setComponentState","updateDraft","newAttributes","body","InputGroup","placeholder","ansKey","InputGroupAddon","addonType","InputGroupText","data-testid","Spinner","size","GameDetailsRoute","setQuestions","newQn","FindGameRoute","gameIdPrefix","URLSearchParams","useLocation","search","App","exact","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b2f58920.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"centered\":\"styles_centered__3xhHS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hero_heading\":\"styles_hero_heading__2Reh3\"};","const firebase = require('firebase');\r\n\r\nconst FIREBASE_CONFIG = JSON.parse(process.env.REACT_APP_FIREBASE_CONFIG);\r\n\r\n\r\nclass BaseStore {\r\n  constructor(props) {\r\n    // workaround to prevent initializing multiple times\r\n    if (!firebase.apps.length) {\r\n      firebase.initializeApp(FIREBASE_CONFIG);\r\n      // firebase.firestore.setLogLevel('debug');\r\n    }\r\n\r\n    this.firestore = firebase.firestore();\r\n    this.auth = firebase.auth();\r\n  }\r\n}\r\n\r\nexport default BaseStore;\r\n","import BaseStore from './BaseStore';\r\n\r\nclass PlayerStore extends BaseStore {\r\n  get(playerId, scopes = {}) {\r\n    return this.firestore\r\n      .collection('games')\r\n      .doc(scopes.gameId)\r\n      .collection('players')\r\n      .doc(playerId)\r\n      .get()\r\n      .then(this._convertDocToPlayer)\r\n  }\r\n\r\n  create(attributes = {}) {\r\n    let chain = this.firestore;\r\n    if ('gameId' in attributes) {\r\n      const gameId = attributes.gameId;\r\n      delete attributes.gameId;\r\n\r\n      chain = chain.collection('games').doc(gameId).collection('players');\r\n    }\r\n\r\n    return chain\r\n      .add(attributes)\r\n      .then(playerRef => playerRef.get())\r\n      .then(this._convertDocToPlayer)\r\n  }\r\n\r\n  list(scopes = {}, onChange) {\r\n    let chain = this.firestore;\r\n    if ('gameId' in scopes) {\r\n      chain = chain.collection('games').doc(scopes.gameId);\r\n    }\r\n    chain = chain.collection('players');\r\n\r\n    if ('limit' in scopes) {\r\n      chain = chain.limit(scopes.limit);\r\n    }\r\n\r\n    if (onChange !== undefined) {\r\n      return chain.onSnapshot(playersSnapshot => {\r\n        let players = [];\r\n        playersSnapshot.forEach(playerDoc => players.push(this._convertDocToPlayer(playerDoc)));\r\n        onChange(players);\r\n      });\r\n    }\r\n\r\n    return chain\r\n      .get()\r\n      .then(snapshot => snapshot.docs.map((p) => this._convertDocToQuestion(p)))\r\n  }\r\n\r\n  _convertDocToPlayer(playerDoc) {\r\n    return Object.assign({ id: playerDoc.id }, playerDoc.data());\r\n  }\r\n}\r\n\r\nexport default PlayerStore;\r\n","import PlayerStore from '../store/PlayerStore';\r\n\r\n\r\nconst addPlayer = (attributes) => {\r\n  return new PlayerStore().create(attributes);\r\n};\r\n\r\nexport default addPlayer;\r\n","import React from 'react';\r\nimport { Container } from 'reactstrap';\r\n\r\nimport styles from './styles.module.css';\r\n\r\n/**\r\n * Vertically and horizontally centered container. Parent height should be 100%.\r\n */\r\nconst CenteredContainer = props => {\r\n  return (\r\n    <Container className={styles.centered} style={{ maxWidth: props.maxWidth || null, height: props.verticalCentered ? \"100%\" : null }}>\r\n      {props.children}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default CenteredContainer;\r\n\r\n","export default class Game {\r\n  static get STATE_DRAFT() { return 'draft' }\r\n  static get STATE_WAITING_FOR_PLAYERS() { return 'waitingForPlayers' }\r\n}\r\n","import BaseStore from './BaseStore';\r\nimport Game from '../entities/Game';\r\n\r\n\r\nclass GameStore extends BaseStore {\r\n  create(attributes = {}) {\r\n    return this.firestore\r\n      .collection('games')\r\n      .add(Object.assign({ state: Game.STATE_DRAFT }, attributes))\r\n      .then(ref => ref.get())\r\n      .then(this._convertDocToGame)\r\n  }\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {String} gameId\r\n   * @param {Function} onChange - if provided, will trigger when Game is updated\r\n   * @returns\r\n   * @memberof GameStore\r\n   */\r\n  get(gameId, onChange) {\r\n    const doc = this._getGameDoc(gameId)\r\n\r\n    if (onChange !== undefined) {\r\n      return doc.onSnapshot(gameDoc => onChange(this._convertDocToGame(gameDoc)));\r\n    }\r\n\r\n    return doc.get().then(this._convertDocToGame);\r\n  }\r\n\r\n  list(scopes = {}) {\r\n    let chain = this.firestore.collection('games');\r\n\r\n    if ('ownerId' in scopes) {\r\n      // FIXME: ideally this would be independent of the gameId\r\n      chain = chain.where(\"ownerId\", \"==\", scopes.ownerId);\r\n    }\r\n\r\n    if ('state' in scopes) {\r\n      chain = chain.where(\"state\", \"==\", scopes.state);\r\n    }\r\n\r\n    if ('shortCode' in scopes) {\r\n      chain = chain.where(\"shortCode\", \"==\", scopes.shortCode);\r\n    }\r\n\r\n    if ('limit' in scopes) {\r\n      chain = chain.limit(scopes.limit);\r\n    }\r\n\r\n    return chain\r\n      .get()\r\n      .then(snapshot => snapshot.docs.map((a) => this._convertDocToGame(a)))\r\n  }\r\n\r\n  update(gameId, attributes) {\r\n    const doc = this._getGameDoc(gameId);\r\n\r\n    if ('currentQuestionId' in attributes) {\r\n      attributes.currentQuestion = doc.collection('questions').doc(attributes.currentQuestionId);\r\n      delete attributes.currentQuestionId;\r\n    }\r\n\r\n    return doc.update(attributes);\r\n  }\r\n\r\n  _getGameDoc(gameId) {\r\n    return this.firestore\r\n      .collection('games')\r\n      .doc(gameId);\r\n  }\r\n\r\n  _convertDocToGame(gameDoc) {\r\n    let game = Object.assign({ id: gameDoc.id }, gameDoc.data());\r\n    if ('currentQuestion' in game) {\r\n      game.currentQuestionId = game.currentQuestion.id;\r\n      game.currentQuestion = game.currentQuestion.path;  // TODO: remove this\r\n    }\r\n    return game;\r\n  }\r\n}\r\n\r\nexport default GameStore;\r\n","import GameStore from '../store/GameStore';\r\n\r\n\r\nconst getGame = (gameId, onChange) => {\r\n  return new GameStore().get(gameId, onChange);\r\n};\r\n\r\nexport default getGame;\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useParams, Redirect } from \"react-router-dom\"\r\nimport { Button, FormGroup, Label, Input, Form } from 'reactstrap';\r\n\r\nimport addPlayer from '../use_cases/addPlayer';\r\nimport CenteredContainer from '../view_components/CenteredContainer';\r\nimport getGame from '../use_cases/getGame';\r\n\r\n\r\nconst JoinForm = ({ playerName, setPlayerName, joinGame }) => {\r\n  return (\r\n    <Form onSubmit={e => {\r\n      e.preventDefault();\r\n      joinGame();\r\n    }}>\r\n      <FormGroup>\r\n        <Label>Your Nickname:</Label>\r\n        <Input\r\n          value={playerName}\r\n          onChange={e => setPlayerName(e.target.value)}\r\n        />\r\n      </FormGroup>\r\n      <Button color=\"primary\" type=\"submit\">JOIN</Button>\r\n    </Form>\r\n  )\r\n}\r\n\r\nconst JoinRoute = () => {\r\n  let { gameId } = useParams();\r\n  const [playerName, setPlayerName] = useState('');\r\n  const [playerId, setPlayerId] = useState('');\r\n  const [game, setGame] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (gameId && game === null) {\r\n      getGame(gameId).then(setGame);\r\n    }\r\n  }, [gameId, game])\r\n\r\n  return (\r\n    <CenteredContainer maxWidth={500} verticalCentered>\r\n      <h1>{game ? game.name : null}</h1>\r\n      {playerId ?\r\n          <Redirect\r\n            to={`/play/${gameId}/as/${playerId}`}\r\n          />\r\n        : <JoinForm\r\n          playerName={playerName}\r\n          setPlayerName={setPlayerName}\r\n          joinGame={() => addPlayer({ name: playerName, gameId }).then(p => setPlayerId(p.id))}\r\n        />\r\n      }\r\n    </CenteredContainer>\r\n  )\r\n}\r\n\r\nexport default JoinRoute\r\n","import PlayerStore from '../store/PlayerStore';\r\n\r\n\r\nconst getPlayer = (playerId, scopes = {}) => {\r\n  return new PlayerStore().get(playerId, scopes);\r\n};\r\n\r\nexport default getPlayer;\r\n","import BaseStore from './BaseStore';\r\n\r\nclass AnswerStore extends BaseStore {\r\n  /**\r\n   * Creates an Answer.\r\n   *\r\n   * @param {Object} attributes - `gameId` will be used to nest the subcollection\r\n   *  and generate a fully qualified reference for `playerId` and `questionId`\r\n   * @returns Object - an \"Answer\" object\r\n   * @memberof AnswerStore\r\n   */\r\n  create(attributes) {\r\n    const gameId = this._popAttr(attributes, 'gameId');\r\n    const playerId = this._popAttr(attributes, 'playerId');\r\n    const questionId = this._popAttr(attributes, 'questionId');\r\n\r\n    const subcollection = this.firestore\r\n      .collection('games')\r\n      .doc(gameId)\r\n      .collection('answers');\r\n\r\n    return subcollection\r\n      .add(Object.assign({\r\n        player: this.firestore.doc(['/games', gameId, 'players', playerId].join('/')),\r\n        question: this.firestore.doc(['/games', gameId, 'questions', questionId].join('/'))\r\n      }, attributes))\r\n      .then(answerRef => answerRef.get())\r\n      .then(this._convertDocToAnswer)\r\n  }\r\n\r\n  list(scopes = {}) {\r\n    let chain = this.firestore;\r\n\r\n    if ('gameId' in scopes) {\r\n      chain = chain.collection('games').doc(scopes.gameId);\r\n    }\r\n    chain = chain.collection('answers');\r\n\r\n    if ('questionId' in scopes) {\r\n      // FIXME: ideally this would be independent of the gameId\r\n      chain = chain.where(\"question\", \"==\", this.firestore.doc(`games/${scopes.gameId}/questions/${scopes.questionId}`));\r\n    }\r\n\r\n    if ('limit' in scopes) {\r\n      chain = chain.limit(scopes.limit);\r\n    }\r\n\r\n    return chain\r\n      .get()\r\n      .then(snapshot => snapshot.docs.map((a) => this._convertDocToAnswer(a)))\r\n  }\r\n\r\n  _convertDocToAnswer(answerDoc) {\r\n    return Object.assign({ id: answerDoc.id }, answerDoc.data());\r\n  }\r\n\r\n  _popAttr(obj, attr) {\r\n    const val = obj[attr];\r\n    delete obj[attr];\r\n    return val;\r\n  }\r\n}\r\n\r\nexport default AnswerStore;\r\n","export function popKey(obj, key) {\r\n  const value = obj[key];\r\n  delete obj[key];\r\n  return value;\r\n}\r\n","import BaseStore from './BaseStore';\r\nimport { popKey } from '../utils/popKey';\r\n\r\nclass QuestionStore extends BaseStore {\r\n  /**\r\n   * Retrieves a Question from the store\r\n   *\r\n   * @param {string} questionId - if a scope is not provided, this must be a\r\n   *   fully qualified ref, as there is no top-level questions collection.\r\n   * @param {Object} [scopes={}]\r\n   * @returns Object\r\n   * @memberof QuestionStore\r\n   */\r\n  get(questionId, scopes = {}) {\r\n    let chain = this.firestore;\r\n    let addAttrs = {};\r\n\r\n    if ('gameId' in scopes) {\r\n      chain = chain.collection('games').doc(scopes.gameId).collection('questions');\r\n      addAttrs['gameId'] = scopes.gameId;\r\n    }\r\n\r\n    return chain\r\n      .doc(questionId)\r\n      .get()\r\n      .then(questionDoc => this._convertDocToQuestion(questionDoc, addAttrs));\r\n  }\r\n\r\n  create(attributes) {\r\n    let attributesCopy = Object.assign({}, attributes);\r\n    const gameId = popKey(attributesCopy, 'gameId');\r\n\r\n    let collection = this.firestore.collection('games').doc(gameId).collection('questions');\r\n\r\n    return collection\r\n      .add(attributesCopy)\r\n      .then(qnRef => qnRef.get())\r\n      .then(qnDoc => this._convertDocToQuestion(qnDoc, { gameId }));\r\n  }\r\n\r\n  /**\r\n   * Update an object\r\n   *\r\n   * @param {String} questionId\r\n   * @param {Object} attributes\r\n   * @returns Promise<void>\r\n   * @memberof QuestionStore\r\n   */\r\n  update(questionId, attributes) {\r\n    let attributesCopy = Object.assign({}, attributes);\r\n    const gameId = popKey(attributesCopy, 'gameId');\r\n\r\n    let doc = this.firestore.collection('games').doc(gameId).collection('questions').doc(questionId);\r\n\r\n    return doc.update(attributesCopy);\r\n  }\r\n\r\n  list(scopes = {}) {\r\n    let chain = this.firestore;\r\n    let addAttrs = {};\r\n\r\n    if ('gameId' in scopes) {\r\n      chain = chain.collection('games').doc(scopes.gameId).collection('questions');\r\n      addAttrs['gameId'] = scopes.gameId;\r\n    }\r\n    if ('from' in scopes) {\r\n      chain = chain.where(\"order\", \">\", scopes.from);\r\n    }\r\n\r\n    chain = chain.orderBy(\"order\");\r\n\r\n    if ('limit' in scopes) {\r\n      chain = chain.limit(scopes.limit);\r\n    }\r\n\r\n    return chain\r\n      .get()\r\n      .then(snapshot => snapshot.docs.map((q) => this._convertDocToQuestion(q, addAttrs)));\r\n  }\r\n\r\n  _convertDocToQuestion(questionDoc, addAttributes = {}) {\r\n    return Object.assign({ id: questionDoc.id }, questionDoc.data(), addAttributes);\r\n  }\r\n}\r\n\r\nexport default QuestionStore;\r\n","import GameStore from '../store/GameStore';\r\nimport AnswerStore from '../store/AnswerStore';\r\nimport QuestionStore from '../store/QuestionStore';\r\n\r\n\r\n/**\r\n * Saves an Answer.\r\n *\r\n * @param {Object} attributes\r\n * @returns Object - an \"Answer\"\r\n */\r\nconst addAnswer = (attributes) => {\r\n  const questionStore = new QuestionStore();\r\n\r\n  return new GameStore()\r\n    .get(attributes.gameId)\r\n    .then(game => {\r\n      return questionStore.get(game.currentQuestionId, { gameId: game.id });\r\n    })\r\n    .then(question => {\r\n      attributes.isCorrect = question.correctAnswer === attributes.choice;\r\n      attributes.questionId = question.id;\r\n      console.log(attributes)\r\n      return new AnswerStore().create(attributes);\r\n    })\r\n};\r\n\r\nexport default addAnswer;\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useParams } from \"react-router-dom\"\r\nimport { Button, Row, Col, Alert } from 'reactstrap';\r\n\r\nimport getPlayer from '../use_cases/getPlayer';\r\nimport addAnswer from '../use_cases/addAnswer';\r\nimport getGame from '../use_cases/getGame';\r\nimport CenteredContainer from '../view_components/CenteredContainer';\r\n\r\n\r\nconst AnswerGrid = ({ recordAnswer }) => {\r\n  return (\r\n    <Row>\r\n      {\r\n        ['A', 'B', 'C', 'D'].map((ans) =>\r\n          <Col sm={12} md={6} className=\"mb-4\" key={ans}>\r\n            <Button\r\n              className=\"w-100 h-100\"\r\n              onClick={() => recordAnswer(ans)}>\r\n                <strong>{ans}</strong>\r\n            </Button>\r\n          </Col>\r\n        )\r\n      }\r\n    </Row>\r\n  )\r\n}\r\n\r\nconst PlayerRoute = () => {\r\n  let { gameId, playerId } = useParams()\r\n  const [currentGame, setCurrentGame] = useState();\r\n  const [playerName, setPlayerName] = useState('')\r\n  const [answer, setAnswer] = useState(null)\r\n  const [errorMessage, setErrorMessage] = useState('')\r\n\r\n  const handleGameChange = (game) => {\r\n    if (game) {\r\n      // workaround to clear answer\r\n      setAnswer(null);\r\n      setCurrentGame(game);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (gameId && playerId) {\r\n      getGame(gameId, handleGameChange);\r\n      getPlayer(playerId, { gameId })\r\n        .then(player => setPlayerName(player.name))\r\n    }\r\n  }, [gameId, playerId])\r\n\r\n  const recordAnswer = ans => {\r\n    // playerName is for convenience later, though it feels a little like this knows more about the store than it should\r\n    addAnswer({ playerId, playerName, gameId, choice: ans })\r\n      .then(setAnswer)\r\n      .catch(e => {\r\n        setErrorMessage(e)\r\n        setTimeout(() => setErrorMessage(''), 5000)\r\n      })\r\n  }\r\n\r\n  switch (currentGame ? currentGame.state : null) {\r\n    case 'pendingQuestion':\r\n      return (\r\n        <CenteredContainer maxWidth={500} verticalCentered={true}>\r\n          Next question coming up...\r\n        </CenteredContainer>\r\n      )\r\n    case 'showingQuestion':\r\n      if (answer) {\r\n        return (\r\n          <CenteredContainer maxWidth={500} verticalCentered={true}>\r\n            You chose {answer.choice}!\r\n          </CenteredContainer>\r\n        )\r\n      }\r\n\r\n      return (\r\n        <CenteredContainer maxWidth={500} verticalCentered={true}>\r\n          <Row className=\"mb-4\">\r\n            <Col sm={12}>\r\n              <h2>Hi {playerName}!</h2>\r\n              <h3>Choose your answer:</h3>\r\n            </Col>\r\n          </Row>\r\n          <AnswerGrid recordAnswer={recordAnswer}/>\r\n          {errorMessage ? <Alert color=\"danger\">{errorMessage}</Alert> : null}\r\n        </CenteredContainer>\r\n      );\r\n    case 'showingQuestionResults':\r\n      return (\r\n        <CenteredContainer maxWidth={500} verticalCentered={true}>\r\n          <div>Showing question results...</div>\r\n        </CenteredContainer>\r\n      );\r\n\r\n    default:\r\n      return (\r\n        <CenteredContainer maxWidth={500} verticalCentered={true}>\r\n          Waiting for game to start...\r\n        </CenteredContainer>\r\n      )\r\n  }\r\n}\r\n\r\nexport default PlayerRoute\r\n","import GameStore from '../store/GameStore';\r\nimport Game from '../entities/Game';\r\n\r\n\r\nconst findGamesByShortCode = (shortCode) => {\r\n  return new GameStore().list({ shortCode: String(shortCode), state: Game.STATE_WAITING_FOR_PLAYERS });\r\n};\r\n\r\nexport default findGamesByShortCode;\r\n","import React, { useState } from 'react'\r\nimport { Link, Redirect } from \"react-router-dom\"\r\nimport { Button, Form, FormGroup, Label, Input, ListGroup, ListGroupItem } from 'reactstrap';\r\n\r\nimport CenteredContainer from '../../view_components/CenteredContainer';\r\nimport styles from './styles.module.css'\r\nimport findGamesByShortCode from '../../use_cases/findGamesByShortCode';\r\n\r\n\r\nconst HomeRoute = () => {\r\n  const [games, setGames] = useState([]);\r\n  const [shortCode, setShortCode] = useState('');\r\n\r\n  if (games.length > 1) {\r\n    return (\r\n      <CenteredContainer maxWidth={500} verticalCentered={true}>\r\n        <ListGroup>\r\n          {\r\n            games.map(game => (\r\n              <Link key={game.id} to={`/join/${game.id}`}>\r\n                <ListGroupItem\r\n                  tag=\"button\"\r\n                  action\r\n                >\r\n                  {game.name}\r\n                </ListGroupItem>\r\n              </Link>\r\n            ))\r\n          }\r\n        </ListGroup>\r\n      </CenteredContainer>\r\n    );\r\n  }\r\n  else if (games.length == 1) {\r\n    return <Redirect to={`/join/${games[0].id}`} />;\r\n  }\r\n  else {\r\n    return (\r\n      <CenteredContainer maxWidth={500} verticalCentered={true}>\r\n        <h1 className={styles.hero_heading}>Cahoots!</h1>\r\n        <Form\r\n          className=\"mb-5\"\r\n          onSubmit={(e) => {\r\n            e.preventDefault();\r\n            findGamesByShortCode(shortCode).then(setGames);\r\n          }}\r\n        >\r\n          <FormGroup>\r\n            <Label for=\"shortCode\">Game Code:</Label>\r\n            <Input id=\"shortCode\" type=\"number\" value={shortCode} onChange={e => setShortCode(e.target.value)} />\r\n          </FormGroup>\r\n          <Button\r\n            color=\"primary\"\r\n            disabled={!shortCode}\r\n            type=\"submit\"\r\n          >\r\n            Find Game\r\n          </Button>\r\n        </Form>\r\n        <aside>\r\n          Want to create your own quiz?&nbsp;\r\n          <Link to=\"/login\">\r\n            Sign Up\r\n          </Link>\r\n        </aside>\r\n      </CenteredContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HomeRoute\r\n","import PlayerStore from '../store/PlayerStore';\r\nimport GameStore from '../store/GameStore';\r\n\r\n\r\nconst getLobbyPlayers = (gameId, onChange, playerStore = new PlayerStore(), gameStore = new GameStore()) => {\r\n  gameStore.update(gameId, { state: 'waitingForPlayers' });\r\n  return playerStore.list({ gameId }, onChange);\r\n};\r\n\r\nexport default getLobbyPlayers;\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useParams, Link } from \"react-router-dom\"\r\nimport { Button, ListGroup, ListGroupItem } from 'reactstrap';\r\n\r\nimport getLobbyPlayers from '../use_cases/getLobbyPlayers';\r\nimport getGame from '../use_cases/getGame';\r\nimport CenteredContainer from '../view_components/CenteredContainer';\r\n\r\n\r\nconst PlayerList = ({ players }) => {\r\n  return (\r\n    <ListGroup>\r\n      {\r\n        players.map(player => (\r\n          <ListGroupItem key={player.id}>{player.name}</ListGroupItem>\r\n        ))\r\n      }\r\n    </ListGroup>\r\n  );\r\n}\r\n\r\n\r\nconst LobbyRoute = props => {\r\n  let { gameId } = useParams();\r\n  const [players, setPlayers] = useState([]);\r\n  const [game, setGame] = useState(null);\r\n  const joinUrl = `${window.location.origin}/cahoots/`;\r\n\r\n  useEffect(() => {\r\n    if (gameId) {\r\n      getLobbyPlayers(gameId, setPlayers);\r\n      getGame(gameId).then(setGame);\r\n    }\r\n  }, [gameId])\r\n\r\n  return (\r\n    <CenteredContainer verticalCentered={true} maxWidth={800}>\r\n      <h1 className=\"mb-4\">Waiting for Players to join...</h1>\r\n      <p>\r\n        To join, go to <a href={joinUrl} rel=\"noopener noreferrer\" target=\"_blank\">{joinUrl}</a> and enter the game code <strong>{game ? game.shortCode : \"___\"}</strong>\r\n      </p>\r\n      <PlayerList players={players} />\r\n      <div className=\"mt-4\">\r\n        <Link to={`/host/${gameId}/questions/pending`}>\r\n          <Button color=\"primary\">Start</Button>\r\n        </Link>\r\n      </div>\r\n    </CenteredContainer>\r\n  )\r\n}\r\n\r\nexport default LobbyRoute\r\n","import BaseStore from './BaseStore';\r\n\r\nclass UserStore extends BaseStore {\r\n  create(attributes = {}) {\r\n    const { email, password } = attributes;\r\n\r\n    return this.auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then(userCredentials => {\r\n        const firebaseUser = userCredentials.user;\r\n        return this._convertUser(firebaseUser);\r\n      })\r\n      .catch((error) => {\r\n        // Handle Errors here.\r\n        const errorCode = error.code;\r\n        const errorMessage = error.message;\r\n        // auth/email-already-in-use\r\n        // auth/invalid-email\r\n        // auth/operation-not-allowed\r\n        if (errorCode === 'auth/weak-password') {\r\n          alert('The password is too weak.');\r\n        } else {\r\n          alert(errorMessage);\r\n        }\r\n      });\r\n  }\r\n\r\n  login({ email, password }) {\r\n    return this.auth\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then(userCredentials => {\r\n        const firebaseUser = userCredentials.user;\r\n        return this._convertUser(firebaseUser);\r\n      })\r\n      .catch((error) => {\r\n        // Handle Errors here.\r\n        const errorCode = error.code;\r\n        const errorMessage = error.message;\r\n        // auth/email-already-in-use\r\n        // auth/invalid-email\r\n        // auth/operation-not-allowed\r\n        if (errorCode === 'auth/weak-password') {\r\n          alert('The password is too weak.');\r\n        } else {\r\n          alert(errorMessage);\r\n        }\r\n      });\r\n  }\r\n\r\n  onCurrentUserChange(handleChange) {\r\n    this.auth.onAuthStateChanged(user => {\r\n      if (user) {\r\n        handleChange(this._convertUser(user));\r\n      }\r\n    })\r\n  }\r\n\r\n  _convertUser(firebaseUser) {\r\n    return {\r\n      id: firebaseUser.uid,\r\n      email: firebaseUser.email,\r\n      name: firebaseUser.displayName,\r\n    };\r\n  }\r\n}\r\n\r\nexport default UserStore;\r\n","import UserStore from \"../store/UserStore\";\r\n\r\nconst signupUser = ({ email, password }) => {\r\n  const userStore = new UserStore();\r\n\r\n  return userStore.create({ email, password });\r\n}\r\n\r\nexport default signupUser;\r\n","import UserStore from \"../store/UserStore\";\r\n\r\nconst loginUser = ({ email, password }) => {\r\n  const userStore = new UserStore();\r\n\r\n  return userStore.login({ email, password });\r\n}\r\n\r\nexport default loginUser;\r\n","import React, { useState } from 'react'\r\nimport { Redirect } from \"react-router-dom\"\r\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\r\nimport signupUser from '../use_cases/signupUser';\r\nimport loginUser from '../use_cases/loginUser';\r\nimport CenteredContainer from '../view_components/CenteredContainer';\r\n\r\nconst handleSubmit = (event, { email, password, authFn, successCallback }) => {\r\n  event.preventDefault();\r\n  authFn({ email, password })\r\n    .then(user => successCallback(user))\r\n}\r\n\r\nconst SignupForm = ({ onUserChange }) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  return (\r\n    <Form className=\"mb-5\" onSubmit={f => handleSubmit(f, { email, password, authFn: signupUser, successCallback: onUserChange })}>\r\n      <FormGroup>\r\n        <Label for=\"email\">Email:</Label>\r\n        <Input id=\"email\" name=\"email\" value={email} onChange={e => setEmail(e.target.value)} />\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <Label>Password:</Label>\r\n        <Input type=\"password\" name=\"password\" value={password} onChange={e => setPassword(e.target.value)} />\r\n      </FormGroup>\r\n      <Button color=\"primary\">Sign Up</Button>\r\n    </Form>\r\n  );\r\n}\r\n\r\nconst LoginForm = ({ onUserChange }) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  return (\r\n    <Form className=\"mb-5\" onSubmit={f => handleSubmit(f, { email, password, authFn: loginUser, successCallback: onUserChange })}>\r\n      <FormGroup>\r\n        <Label for=\"email\">Email:</Label>\r\n        <Input id=\"email\" name=\"email\" value={email} onChange={e => setEmail(e.target.value)} />\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <Label>Password:</Label>\r\n        <Input type=\"password\" name=\"password\" value={password} onChange={e => setPassword(e.target.value)} />\r\n      </FormGroup>\r\n      <Button color=\"primary\">Login</Button>\r\n    </Form>\r\n  );\r\n}\r\n\r\nconst LoginRoute = props => {\r\n  const [isExistingUser, setIsExistingUser] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n\r\n  const toggleForm = event => {\r\n    event.preventDefault();\r\n    setIsExistingUser(!isExistingUser);\r\n  }\r\n\r\n  if (user) {\r\n    return <Redirect to='/games' />\r\n  } else if (isExistingUser) {\r\n    return (\r\n      <CenteredContainer maxWidth={500} verticalCentered>\r\n        <h1>Login to Cahoots!</h1>\r\n        <LoginForm onUserChange={setUser} />\r\n        <div>\r\n          No account? <br />\r\n          <Button color=\"link\" onClick={toggleForm}>Sign Up!</Button>\r\n        </div>\r\n      </CenteredContainer>\r\n    );\r\n  } else {\r\n    return (\r\n      <CenteredContainer maxWidth={500} verticalCentered>\r\n        <h1>Signup for Cahoots!</h1>\r\n        <SignupForm onUserChange={setUser} />\r\n        <div>\r\n          Have an account? <br />\r\n          <Button color=\"link\" onClick={toggleForm}>Login</Button>\r\n        </div>\r\n      </CenteredContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginRoute\r\n","import UserStore from \"../store/UserStore\";\r\n\r\nconst getCurrentUser = () => {\r\n  const userStore = new UserStore();\r\n\r\n  return new Promise(resolve => userStore.onCurrentUserChange(resolve));\r\n}\r\n\r\nexport default getCurrentUser;\r\n","\r\nimport GameStore from \"../store/GameStore\";\r\nimport getCurrentUser from \"./getCurrentUser\";\r\n\r\n\r\nconst getCurrentUserGames = () => {\r\n  const gameStore = new GameStore();\r\n\r\n  return getCurrentUser().then(user => user ? gameStore.list({ ownerId: user.id }) : null);\r\n}\r\n\r\nexport default getCurrentUserGames;\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Container, ListGroup, ListGroupItem } from 'reactstrap';\r\nimport getCurrentUserGames from '../use_cases/getCurrentUserGames';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n\r\nconst MyGamesRoute = () => {\r\n  const [games, setGames] = useState([]);\r\n  const [redirectUrl, setRedirectUrl] = useState(null);\r\n\r\n  useEffect(() => {\r\n    getCurrentUserGames().then(setGames);\r\n  }, []);\r\n\r\n  if (redirectUrl) {\r\n    return <Redirect to={redirectUrl} />;\r\n  } else {\r\n    return (\r\n      <Container style={{maxWidth: \"500px\"}}>\r\n        <h1>Your Games</h1>\r\n        <ListGroup>\r\n          {\r\n            games.map(game => (\r\n              <ListGroupItem\r\n                key={game.id}\r\n                onClick={() => setRedirectUrl(`/games/${game.id}`)}\r\n                tag=\"button\"\r\n                action\r\n              >\r\n                {game.name}\r\n              </ListGroupItem>\r\n            ))\r\n          }\r\n          <ListGroupItem\r\n            onClick={() => setRedirectUrl('/games/create')}\r\n            tag=\"button\"\r\n            color=\"info\"\r\n            action\r\n          >\r\n            Create Game\r\n          </ListGroupItem>\r\n        </ListGroup>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MyGamesRoute\r\n","import GameStore from '../store/GameStore';\r\n\r\n\r\nconst createGame = (attributes, gameStore = new GameStore()) => {\r\n  // generate a random shortcode\r\n  const shortCode = String(Math.floor(Math.random() * Math.floor(9999)));\r\n  return gameStore.create(Object.assign({ shortCode }, attributes));\r\n};\r\n\r\nexport default createGame;\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Container, FormGroup, Label, Input, Button } from 'reactstrap';\r\nimport getCurrentUser from '../use_cases/getCurrentUser';\r\nimport createGame from '../use_cases/createGame';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n\r\nconst save = (gameAttributes, onCreate) => {\r\n  return createGame(gameAttributes).then(onCreate);\r\n}\r\n\r\nconst CreateGameRoute = props => {\r\n  const [user, setUser] = useState(null);\r\n  const [gameName, setGameName] = useState('');\r\n  const [game, setGame] = useState(null);\r\n\r\n  useEffect(() => {\r\n    getCurrentUser().then(setUser);\r\n  }, []);\r\n\r\n  if (game) {\r\n    return <Redirect to=\"/games\" />;\r\n  } else {\r\n    return (\r\n      <Container style={{maxWidth: \"500px\"}}>\r\n        <h1>Create a Game</h1>\r\n        <FormGroup>\r\n          <Label for=\"name\">Name:</Label>\r\n          <Input id=\"name\" name=\"name\" value={gameName} onChange={e => setGameName(e.target.value)} />\r\n        </FormGroup>\r\n        <Button color=\"primary\" onClick={() => save({ name: gameName, ownerId: user.id }, setGame)}>Save</Button>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CreateGameRoute\r\n","import GameStore from '../store/GameStore';\r\nimport QuestionStore from '../store/QuestionStore';\r\n\r\nconst startNextQuestion = (gameId) => {\r\n  const gameStore = new GameStore();\r\n  const questionStore = new QuestionStore();\r\n\r\n  gameStore.update(gameId, { state: 'pendingQuestion' });\r\n  return gameStore\r\n    .get(gameId)\r\n    .then(game => {\r\n      if ('currentQuestion' in game) {\r\n        return questionStore.get(game.currentQuestion);\r\n      }\r\n      else {\r\n        return;\r\n      }\r\n    })\r\n    .then(currentQuestion => {\r\n      const nextOrder = currentQuestion ? currentQuestion.order : 0 ;\r\n      return questionStore.list({ gameId, from: nextOrder, limit: 1 });\r\n    })\r\n    .then(questionArray => {\r\n      const question = questionArray[0];\r\n      if (question) {\r\n        gameStore.update(gameId, { currentQuestionId: question.id });\r\n      }\r\n\r\n      return question;\r\n    });\r\n}\r\n\r\nexport default startNextQuestion;\r\n","const calculateTimeLeft = date => {\r\n  const difference = (date - Date.now()) / 1000;\r\n  return difference > 0 ? difference : 0;\r\n};\r\n\r\nconst tickTimer = ({ endDate, intervalCallback, endedCallback }) => {\r\n  setTimeout(() => {\r\n    // timeLeft is in seconds\r\n    const timeLeft = calculateTimeLeft(endDate);\r\n    if (timeLeft > 0) {\r\n      intervalCallback(timeLeft);\r\n      tickTimer({ endDate, intervalCallback, endedCallback });\r\n    }\r\n    else {\r\n      endedCallback(timeLeft);\r\n    }\r\n  }, 1000);\r\n};\r\n\r\nexport const startTimer = ({ seconds, intervalCallback, endedCallback }) => {\r\n  const endDate = new Date(Date.now() + 1000 * seconds);\r\n  tickTimer({ endDate, intervalCallback, endedCallback });\r\n};\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useParams, Redirect } from \"react-router-dom\"\r\n\r\nimport startNextQuestion from '../use_cases/startNextQuestion';\r\nimport { startTimer } from '../utils/calculateTimeLeft';\r\nimport CenteredContainer from '../view_components/CenteredContainer';\r\n\r\nconst SECONDS_TO_QUESTION = 5;\r\n\r\nconst PendingQuestionRoute = ({ parentUrl }) => {\r\n  let { gameId } = useParams();\r\n  const [ timeLeft, setTimeLeft ] = useState(SECONDS_TO_QUESTION);\r\n  const [ nextQuestion, setNextQuestion ] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (gameId) {\r\n      startTimer({ seconds: SECONDS_TO_QUESTION, intervalCallback: setTimeLeft, endedCallback: setTimeLeft });\r\n      startNextQuestion(gameId).then(setNextQuestion);\r\n    }\r\n  }, [gameId])\r\n\r\n  return (\r\n    <CenteredContainer verticalCentered={true}>\r\n      <div className=\"mb-4\">Next question in...</div>\r\n      <div className=\"display-1\">\r\n        {Math.ceil(timeLeft)}\r\n      </div>\r\n      {timeLeft <= 0 && nextQuestion\r\n        ? <Redirect to={`${parentUrl}/questions/current`} />\r\n        : null\r\n      }\r\n    </CenteredContainer>\r\n  )\r\n}\r\n\r\nexport default PendingQuestionRoute\r\n","import QuestionStore from \"../store/QuestionStore\";\r\n\r\nconst getQuestion = (questionId, scopes, questionStore = new QuestionStore()) => {\r\n  return questionStore.get(questionId, scopes)\r\n};\r\n\r\nexport default getQuestion;\r\n","import GameStore from '../store/GameStore';\r\nimport AnswerStore from '../store/AnswerStore';\r\n\r\nconst calculateQuestionResults = (gameId, questionId, gameStore = new GameStore(), answerStore = new AnswerStore()) => {\r\n  gameStore.update(gameId, { state: 'showingQuestionResults' });\r\n  return answerStore\r\n    .list({ gameId, questionId })\r\n    .then(answers => {\r\n      let results = { 'A': [], 'B': [], 'C': [], 'D': []};\r\n      answers.forEach(answer => {\r\n        results[answer.choice] = results[answer.choice].concat(answer.playerName);\r\n      });\r\n      return results;\r\n    });\r\n}\r\n\r\nexport default calculateQuestionResults;\r\n","import QuestionStore from '../store/QuestionStore';\r\n\r\nconst countTotalQuestions = (gameId) => {\r\n  const questionStore = new QuestionStore();\r\n  return questionStore\r\n    .list({ gameId })\r\n    .then(questions => questions.length);\r\n}\r\n\r\nexport default countTotalQuestions;\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useParams, Link } from \"react-router-dom\"\r\nimport { Button, Card, CardBody, Row, Col, CardTitle, CardText } from 'reactstrap';\r\n\r\nimport getQuestion from '../use_cases/getQuestion';\r\nimport calculateQuestionResults from '../use_cases/calculateQuestionResults';\r\nimport countTotalQuestions from '../use_cases/countTotalQuestions';\r\nimport CenteredContainer from '../view_components/CenteredContainer';\r\n\r\n\r\nconst isCorrectChoice = (question, choice) => {\r\n  return question.correctAnswer === choice;\r\n}\r\n\r\nconst ResultBoard = ({ result, className, question }) => {\r\n  return (\r\n    <div className={className}>\r\n      <h2 className=\"mb-4\">{question ? question.text : null}</h2>\r\n      <Row>\r\n        {\r\n          Object.entries(result).map(([answer, players]) => (\r\n            <Col sm={12} md={6} className=\"mb-4\">\r\n              <Card\r\n                color={isCorrectChoice(question, answer) ? 'success' : null}\r\n                inverse={isCorrectChoice(question, answer) ? true : null}\r\n              >\r\n                <CardBody>\r\n                  <CardTitle>\r\n                    <strong className='mr-2'>{answer}</strong>\r\n                    {isCorrectChoice(question, answer) ? '✔️' : '❌'}\r\n                  </CardTitle>\r\n                  <CardText>\r\n                    {players.join(', ')}\r\n                  </CardText>\r\n                </CardBody>\r\n              </Card>\r\n            </Col>\r\n          ))\r\n        }\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst QuestionResultsRoute = ({ parentUrl }) => {\r\n  let { gameId, questionId } = useParams()\r\n  let [result, setResult] = useState({})\r\n  let [question, setQuestion] = useState(null)\r\n  let [totalQuestionCount, setTotalQuestionCount] = useState(null)\r\n\r\n  useEffect(() => {\r\n    if (gameId && questionId) {\r\n      getQuestion(questionId, { gameId }).then(setQuestion);\r\n      countTotalQuestions(gameId).then(setTotalQuestionCount);\r\n      calculateQuestionResults(gameId, questionId).then(setResult);\r\n    }\r\n  }, [gameId, questionId])\r\n\r\n  return (\r\n    <CenteredContainer verticalCentered={true}>\r\n      <ResultBoard className=\"mb-4\" result={result} question={question} />\r\n      {question && question.order >= totalQuestionCount ?\r\n        <Link to={`${parentUrl}/results/final`}>\r\n          <Button color=\"primary\">\r\n            Show Final Results\r\n          </Button>\r\n        </Link>\r\n        :\r\n        <Link to={`${parentUrl}/questions/pending`}>\r\n          <Button color=\"primary\">\r\n            Next Question\r\n          </Button>\r\n        </Link>\r\n      }\r\n    </CenteredContainer>\r\n  )\r\n}\r\n\r\nexport default QuestionResultsRoute\r\n\r\n// no result, no question, start button\r\n// no result, question, no buttons if time out, else show button if within time\r\n// have result, show result, hide question, next button (clears result)\r\n","import AnswerStore from '../store/AnswerStore';\r\n\r\n\r\n/**\r\n * Saves an Answer.\r\n *\r\n * @param {Object} attributes\r\n * @returns Object - an \"Answer\"\r\n */\r\nconst calculateFinalResults = (gameId) => {\r\n  const answerStore = new AnswerStore();\r\n\r\n  return answerStore.list({ gameId })\r\n    .then(answers => {\r\n      return answers\r\n        .filter(val => 'isCorrect' in val && !!val.isCorrect)\r\n        .reduce((acc, curr) => {\r\n          if (curr.playerName in acc) {\r\n            acc[curr.playerName] += 1;\r\n          } else {\r\n            acc[curr.playerName] = 1;\r\n          }\r\n          return acc;\r\n        }, {});\r\n    })\r\n};\r\n\r\nexport default calculateFinalResults;\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from \"react-router-dom\"\r\nimport { ListGroup, ListGroupItem, Badge } from 'reactstrap';\r\nimport calculateFinalResults from '../use_cases/calculateFinalResults';\r\nimport CenteredContainer from '../view_components/CenteredContainer';\r\n\r\n\r\n// Compares two Arrays of playerName, score in terms of ascending score.\r\nconst sortScores = (a, b) => {\r\n  const [, score1] = a;\r\n  const [, score2] = b;\r\n\r\n  if (score1 > score2) {\r\n    return -1;\r\n  }\r\n  if (score1 < score2) {\r\n    return 1;\r\n  }\r\n  // a must be equal to b\r\n  return 0;\r\n}\r\n\r\nconst Leaderboard = ({ results }) => {\r\n  let scores = Object.entries(results);\r\n  scores.sort(sortScores);\r\n\r\n  return (\r\n    <ListGroup>\r\n      {\r\n        scores.slice(0, 5).map(([key, value], index) => {\r\n          if (index <= 2) {\r\n            return <ListGroupItem key={key} className=\"d-flex justify-content-between\">{key}<Badge className=\"ml-4 p-2\" color=\"success\">{value}</Badge></ListGroupItem>;\r\n          } else {\r\n            return <ListGroupItem key={key} className=\"d-flex justify-content-between\">{key}<Badge className=\"ml-4 p-2\">{value}</Badge></ListGroupItem>;\r\n          }\r\n        })\r\n      }\r\n    </ListGroup>\r\n\r\n  );\r\n}\r\n\r\nconst FinalResultsRoute = props => {\r\n  let { gameId } = useParams()\r\n  let [results, setResults] = useState({})\r\n\r\n  useEffect(() => {\r\n    if (gameId) {\r\n      calculateFinalResults(gameId).then(setResults);\r\n    }\r\n  }, [gameId])\r\n\r\n  return (\r\n    <CenteredContainer verticalCentered={true} maxWidth={500}>\r\n      <h1>\r\n        Final Results\r\n      </h1>\r\n      <Leaderboard results={results} />\r\n    </CenteredContainer>\r\n  )\r\n}\r\n\r\nexport default FinalResultsRoute\r\n","import GameStore from '../store/GameStore';\r\nimport QuestionStore from '../store/QuestionStore';\r\n\r\nconst showCurrentQuestion = (gameId, gameStore = new GameStore(), questionStore = new QuestionStore()) => {\r\n  gameStore.update(gameId, { state: 'showingQuestion' });\r\n  return gameStore\r\n    .get(gameId)\r\n    .then(game => {\r\n      return questionStore.get(game.currentQuestion)\r\n    });\r\n}\r\n\r\nexport default showCurrentQuestion;\r\n","import React from 'react'\r\nimport { Card, CardBody, Row, Col, CardTitle, CardText } from 'reactstrap';\r\n\r\n\r\n\r\nconst Question = ({ question, className }) => (\r\n  <div className={className}>\r\n    <h2 className=\"mb-4\">{question.text}</h2>\r\n    <Row>\r\n      {\r\n        ['A', 'B', 'C', 'D'].map((ans) =>\r\n          <Col key={ans} sm={12} md={6} className=\"mb-4\">\r\n            <Card>\r\n              <CardBody>\r\n                <CardTitle><strong>{ans}</strong></CardTitle>\r\n                <CardText>\r\n                  {question[`answer${ans}`]}\r\n                </CardText>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n        )\r\n      }\r\n    </Row>\r\n  </div>\r\n)\r\n\r\nexport default Question\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useParams, Link } from \"react-router-dom\"\r\nimport { Button } from 'reactstrap';\r\n\r\nimport showCurrentQuestion from '../use_cases/showCurrentQuestion'\r\nimport Question from '../view_components/Question'\r\nimport { startTimer } from '../utils/calculateTimeLeft';\r\nimport CenteredContainer from '../view_components/CenteredContainer';\r\n\r\nconst SECONDS_TO_QUESTION = 10;\r\n\r\nconst ShowResultsBtn = ({ isVisible, linkTo }) => {\r\n  return isVisible ?\r\n    (\r\n      <Link to={linkTo}>\r\n        <Button color=\"primary\">Show Result</Button>\r\n      </Link>\r\n    ) : null\r\n}\r\n\r\nconst CurrentQuestionRoute = ({ parentUrl }) => {\r\n  let { gameId } = useParams();\r\n  const [question, setQuestion] = useState(null);\r\n  const [timeLeft, setTimeLeft] = useState(SECONDS_TO_QUESTION);\r\n\r\n  useEffect(() => {\r\n    if (gameId) {\r\n      startTimer({ seconds: SECONDS_TO_QUESTION, intervalCallback: setTimeLeft, endedCallback: setTimeLeft });\r\n      showCurrentQuestion(gameId).then(setQuestion);\r\n    }\r\n  }, [gameId])\r\n\r\n  return (\r\n    <CenteredContainer verticalCentered={true}>\r\n      {question ?\r\n          <div>\r\n            <Question question={question} />\r\n            <div className=\"mt-4\">Time left:</div>\r\n            <div className=\"display-1\">\r\n              {Math.ceil(timeLeft)}\r\n            </div>\r\n            <ShowResultsBtn\r\n              isVisible={timeLeft <= 0}\r\n              linkTo={`${parentUrl}/results/${question.id}`}\r\n            />\r\n          </div>\r\n        : <div>Loading...</div>\r\n      }\r\n    </CenteredContainer>\r\n  )\r\n}\r\n\r\nexport default CurrentQuestionRoute\r\n","import React from 'react'\r\nimport { Switch, Route, useRouteMatch } from \"react-router-dom\";\r\n\r\nimport PendingQuestionRoute from './PendingQuestionRoute';\r\nimport QuestionResultsRoute from './QuestionResultsRoute';\r\nimport FinalResultsRoute from './FinalResultsRoute';\r\nimport CurrentQuestionRoute from './CurrentQuestionRoute';\r\n\r\n\r\nconst HostRoute = () => {\r\n  let { url, path } = useRouteMatch();\r\n\r\n  return (\r\n    <Switch base>\r\n      <Route path={`${path}/questions/pending`}>\r\n        <PendingQuestionRoute parentUrl={url} />\r\n      </Route>\r\n      <Route path={`${path}/questions/current`}>\r\n        <CurrentQuestionRoute parentUrl={url} />\r\n      </Route>\r\n      <Route path={`${path}/results/final`}>\r\n        <FinalResultsRoute parentUrl={url} />\r\n      </Route>\r\n      <Route path={`${path}/results/:questionId`}>\r\n        <QuestionResultsRoute parentUrl={url} />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default HostRoute\r\n","import QuestionStore from \"../store/QuestionStore\";\r\n\r\nconst getQuestions = (scopes) => {\r\n  const questionStore = new QuestionStore();\r\n  return questionStore.list(scopes)\r\n};\r\n\r\nexport default getQuestions;\r\n","import QuestionStore from \"../store/QuestionStore\";\r\nimport { popKey } from '../utils/popKey';\r\n\r\n/**\r\n * Creates a new Question or saves an existing one.\r\n *\r\n * @param {Object} attributes - should minimally contain `gameId`. If no `id` is included, is assumed to be a new Question\r\n * @returns Promise - resolves to either Object or void\r\n */\r\nconst saveQuestion = (attributes, questionStore = new QuestionStore()) => {\r\n  let attributesCopy = Object.assign({}, attributes);\r\n\r\n  if ('id' in attributesCopy) {\r\n    const questionId = popKey(attributesCopy, 'id');\r\n    return questionStore.update(questionId, attributesCopy);\r\n  } else {\r\n    return questionStore.create(attributesCopy);\r\n  }\r\n};\r\n\r\nexport default saveQuestion;\r\n","import React, { useState } from 'react';\r\nimport { InputGroup, InputGroupAddon, InputGroupText, Input, Card, CardTitle, Button, Spinner, FormGroup, Label } from 'reactstrap';\r\nimport saveQuestion from '../use_cases/saveQuestion';\r\n\r\nconst STATE_DEFAULT = 'default';\r\nconst STATE_SAVING = 'saving';\r\n\r\n\r\nexport const EditableQuestion = ({ question }) => {\r\n  const [draftQuestion, setDraftQuestion] = useState(question)\r\n  const [componentState, setComponentState] = useState(STATE_DEFAULT);\r\n\r\n  const updateDraft = (newAttributes) => {\r\n    setDraftQuestion(Object.assign({}, draftQuestion, newAttributes));\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Card body className=\"mt-4 mb-4\">\r\n        <CardTitle>\r\n          <InputGroup className=\"mb-2\">\r\n            <Input\r\n              type=\"textarea\"\r\n              placeholder=\"Question text\"\r\n              value={draftQuestion.text || ''}\r\n              onChange={e => updateDraft({ text: e.target.value })}\r\n            />\r\n          </InputGroup>\r\n        </CardTitle>\r\n        {['answerA', 'answerB', 'answerC', 'answerD'].map((ansKey) => (\r\n          <InputGroup key={ansKey} className=\"mb-2\">\r\n            <InputGroupAddon addonType=\"prepend\">\r\n              <InputGroupText>{ansKey}</InputGroupText>\r\n            </InputGroupAddon>\r\n            <Input\r\n              placeholder=\"Answer\"\r\n              value={ansKey in draftQuestion ? draftQuestion[ansKey] : ''}\r\n              onChange={e => updateDraft({[ansKey]: e.target.value})}\r\n            />\r\n          </InputGroup>\r\n        ))}\r\n        <FormGroup>\r\n          <Label for=\"correctAnswerDropdown\">Correct Answer</Label>\r\n          <Input\r\n            type=\"select\"\r\n            name=\"correctAnswer\"\r\n            id=\"correctAnswerDropdown\"\r\n            data-testid=\"correctAnswerDropdown\"\r\n            value={draftQuestion.correctAnswer || 'A'}\r\n            onChange={e => updateDraft({ correctAnswer: e.target.value })}\r\n          >\r\n            <option>A</option>\r\n            <option>B</option>\r\n            <option>C</option>\r\n            <option>D</option>\r\n          </Input>\r\n        </FormGroup>\r\n        {componentState === STATE_SAVING ?\r\n          <Button disabled color=\"primary\" className=\"mt-4\">\r\n            <Spinner type=\"grow\" size=\"sm\" color=\"info\" className=\"mr-2\" />\r\n            Saving...\r\n          </Button>\r\n          :\r\n          <Button\r\n            color=\"primary\"\r\n            className=\"mt-4\"\r\n            onClick={() => {\r\n              setComponentState(STATE_SAVING);\r\n              saveQuestion(draftQuestion).then(() => setComponentState(STATE_DEFAULT));\r\n            }}\r\n          >\r\n            Save\r\n          </Button>\r\n        }\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Button } from 'reactstrap';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport getGame from '../use_cases/getGame';\r\nimport getQuestions from '../use_cases/getQuestions';\r\nimport { EditableQuestion } from '../view_components/EditableQuestion';\r\nimport saveQuestion from '../use_cases/saveQuestion';\r\nimport CenteredContainer from '../view_components/CenteredContainer';\r\n\r\nconst GameDetailsRoute = props => {\r\n  const { gameId } = useParams();\r\n  const [game, setGame] = useState(null);\r\n  const [questions, setQuestions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (gameId && game === null) {\r\n      getGame(gameId)\r\n        .then(game => {\r\n          setGame(game);\r\n          return game;\r\n        })\r\n        .then(game => getQuestions({ gameId: game.id }))\r\n        .then(setQuestions);\r\n    }\r\n  }, [gameId, game]);\r\n\r\n  if (game) {\r\n    return (\r\n      <CenteredContainer maxWidth={500}>\r\n        <h1 className=\"mb-4\">{game.name}</h1>\r\n        {questions.length > 0\r\n          ? <Link to={`/lobby/${gameId}`}>\r\n              <Button color=\"success\" size=\"lg\">\r\n                Start Game\r\n              </Button>\r\n            </Link>\r\n          : null\r\n        }\r\n        {questions.map(question => <EditableQuestion key={question.id} question={question}/>)}\r\n        <Button\r\n          onClick={() => {\r\n            saveQuestion({ gameId: gameId, order: questions.length + 1 })\r\n              .then(newQn => setQuestions(questions.concat([newQn])))\r\n          }}\r\n        >\r\n          Add Question\r\n        </Button>\r\n      </CenteredContainer>\r\n    );\r\n  } else {\r\n    return (<CenteredContainer maxWidth={500}>Loading...</CenteredContainer>)\r\n  }\r\n}\r\n\r\nexport default GameDetailsRoute\r\n","import React, { useState } from 'react'\r\nimport { Redirect, useLocation } from \"react-router-dom\"\r\nimport { Button, FormGroup, Label, Input } from 'reactstrap';\r\n\r\nimport CenteredContainer from '../view_components/CenteredContainer';\r\n\r\n\r\nconst useQueryParams = key => {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nconst FindGameRoute = props => {\r\n  const queryParams = useQueryParams();\r\n  const gameIdPrefix = queryParams.get('game');\r\n\r\n  return (\r\n    <CenteredContainer maxWidth={500} verticalCentered>\r\n      {gameIdPrefix}\r\n    </CenteredContainer>\r\n  )\r\n}\r\n\r\nexport default FindGameRoute;\r\n","import React from 'react';\r\nimport {\r\n  HashRouter as Router,\r\n  Switch,\r\n  Route,\r\n} from \"react-router-dom\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './App.css';\r\n\r\nimport JoinRoute from './routes/JoinRoute'\r\nimport PlayerRoute from './routes/PlayerRoute'\r\nimport HomeRoute from './routes/HomeRoute';\r\nimport LobbyRoute from './routes/LobbyRoute';\r\nimport LoginRoute from './routes/LoginRoute';\r\nimport MyGamesRoute from './routes/MyGamesRoute';\r\nimport CreateGameRoute from './routes/CreateGameRoute';\r\nimport HostRoute from './routes/HostRoute';\r\nimport GameDetailsRoute from './routes/GameDetailsRoute';\r\nimport FindGameRoute from './routes/FindGameRoute';\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Switch>\r\n          <Route path=\"/login\">\r\n            <LoginRoute />\r\n          </Route>\r\n          <Route path=\"/host/:gameId\">\r\n            <HostRoute />\r\n          </Route>\r\n          <Route path=\"/lobby/:gameId\">\r\n            <LobbyRoute />\r\n          </Route>\r\n          <Route path=\"/play/:gameId/as/:playerId\">\r\n            <PlayerRoute />\r\n          </Route>\r\n          <Route path=\"/join/:gameId\">\r\n            <JoinRoute />\r\n          </Route>\r\n          <Route path=\"/join\">\r\n            <FindGameRoute />\r\n          </Route>\r\n          <Route path=\"/games/create\">\r\n            <CreateGameRoute />\r\n          </Route>\r\n          <Route path=\"/games/:gameId\">\r\n            <GameDetailsRoute />\r\n          </Route>\r\n          <Route exact path=\"/games\">\r\n            <MyGamesRoute />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <HomeRoute />\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}